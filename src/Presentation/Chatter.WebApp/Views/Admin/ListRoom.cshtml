@model System.Collections.Generic.List<Chatter.Application.Dtos.Rooms.RoomDto>

@section Css{
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.bootstrap5.css">
}

@section Script{
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
      <script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
      <script src="https://cdn.datatables.net/2.0.2/js/dataTables.bootstrap5.js"></script>

    <script>
        $(document).ready(function () {
            $('#roomTable').DataTable();
        }); 
    </script>
}

<h2>Rooms</h2>
<hr/>


<a asp-controller="Room" asp-action="Create" class="btn bg-primary mb-3">Yeni Chat</a>

<table id="roomTable"  class="table table-striped" style="width:100%">
    <thead>
    <tr>
        <th>Room ID</th>
        <th>Created Date</th>
        <th>Title</th>
        <th>Is Public</th>
        <th>Capacity</th>
        <th>Invitations Count</th>
        <th>Users Count</th>
        <th>Blocked Users Count</th>

    </tr>
    </thead>
    <tbody>
    @if (Model.Count() > 0)
    {
        @foreach (var room in Model)
        {
            <tr>
                <td>@room.Id</td>
                <td>@room.CreatedDate</td>
                <td>@room.Title</td>
                <td>@room.IsPublic</td>
                <td>@room.Capacity</td>
                <td>@room.Invitations?.Count</td>
                <td>@room.RoomChatterUsers?.Count</td>
                <td>@room.BlockedUsers?.Count</td>
            </tr>
        }
    }
    </tbody>
</table>
